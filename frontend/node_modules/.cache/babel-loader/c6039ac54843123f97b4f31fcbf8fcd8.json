{"ast":null,"code":"import _slicedToArray from \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/Pages/CommentPage.js\";\n// comments\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Comments from \"../components/commentpage/Comments\";\nimport Navbar from \"../components/NavBar.js\";\nimport NewComment from \"../components/commentpage/NewComment\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nvar CommentPage = function CommentPage() {\n  var params = useParams();\n  var navigate = useNavigate();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    comments = _useState2[0],\n    setComments = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    post = _useState4[0],\n    setPost = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    newComment = _useState6[0],\n    setNewComment = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    orderIndex = _useState8[0],\n    setOrder = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    search = _useState10[0],\n    setSearch = _useState10[1];\n  var order = [\"Newest to oldest\", \"Oldest to newest\"];\n  var now = new Date();\n  useEffect(function () {\n    var token = localStorage.getItem(\"token\");\n    var showPostURL = \"http://localhost:3000/posts/\".concat(params.id);\n    if (token) {\n      fetch(showPostURL, {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      }).then(function (response) {\n        setPost(response);\n        console.log(post);\n      });\n    }\n  }, []);\n  useEffect(function () {\n    return getComments();\n  }, [search, orderIndex]);\n  var getComments = function getComments() {\n    var url = \"http://localhost:3000/comments/\".concat(params.id, \"?order=\").concat(orderIndex, \"&search=\").concat(search);\n    var token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(url, {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      }).then(function (res) {\n        setComments(res);\n      }).catch(function () {\n        return navigate(\"/login\");\n      });\n    } else {\n      navigate(\"/login\");\n    }\n  };\n  var handleOrder = function handleOrder(id) {\n    setOrder(id);\n  };\n  var handleSearch = function handleSearch(e) {\n    setSearch(e.target.value);\n  };\n  var stripHtmlEntities = function stripHtmlEntities(str) {\n    return String(str).replace(/\\n/g, \"<br> <br>\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n  };\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    var url = \"http://localhost:3000/comments\";\n    if (newComment.length == 0) return;\n    var info = {\n      comment: {\n        post_id: params.id,\n        body: stripHtmlEntities(newComment)\n      }\n    };\n    var token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(token)\n        },\n        body: JSON.stringify(info)\n      }).then(function (response) {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      }).then(function (res) {\n        setComments(res);\n        console.log(res);\n      }).catch(function (error) {\n        return console.log(error.message);\n      });\n    }\n  };\n  var deleteComment = function deleteComment(id) {\n    var url = \"http://localhost:3000/comments/\".concat(id);\n    var auth_token = localStorage.getItem(\"token\");\n    console.log(url);\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \".concat(auth_token)\n      }\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(\"Network response was not ok.\");\n    }).then(function () {\n      return getComments();\n    }).catch(function (error) {\n      return console.log(error.message);\n    });\n  };\n  var getTimeElapsed = function getTimeElapsed(time) {\n    var d = new Date(time);\n    var elapsed = now - d;\n    if (elapsed < 3600000) {\n      return \"\".concat(Math.floor(elapsed / 60000), \" min\");\n    }\n    if (elapsed < 86400000) {\n      return \"\".concat(Math.floor(elapsed / 3600000), \" h\");\n    } else {\n      return \"\".concat(Math.floor(elapsed / 86400000), \" days\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    user: localStorage.getItem(\"username\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-subtitle text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, post.user.username, \" | Posted \", getTimeElapsed(post.updated_at), \" \", \"ago\"), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, post.name), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, post.body)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NewComment, {\n    onSubmit: onSubmit,\n    onChange: setNewComment,\n    comment: newComment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"post-input\",\n    type: \"text\",\n    placeholder: \"Search here\",\n    onChange: handleSearch,\n    value: search,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Dropdown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    id: \"dropdown-basic\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, order[parseInt(orderIndex)]), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    onClick: function onClick() {\n      return handleOrder(0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, \"Newest to oldest\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    onClick: function onClick() {\n      return handleOrder(1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, \"Oldest to newest\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Comments, {\n    comments: comments,\n    delete: deleteComment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  })));\n};\nexport default CommentPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useParams","Comments","Navbar","NewComment","Dropdown","CommentPage","params","navigate","comments","setComments","post","setPost","newComment","setNewComment","orderIndex","setOrder","search","setSearch","order","now","Date","token","localStorage","getItem","showPostURL","id","fetch","method","headers","Authorization","then","response","ok","json","Error","console","log","getComments","url","res","catch","handleOrder","handleSearch","e","target","value","stripHtmlEntities","str","String","replace","onSubmit","event","preventDefault","length","info","comment","post_id","body","JSON","stringify","error","message","deleteComment","auth_token","getTimeElapsed","time","d","elapsed","Math","floor","user","username","updated_at","name","title","parseInt"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/Pages/CommentPage.js"],"sourcesContent":["// comments\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Comments from \"../components/commentpage/Comments\";\nimport Navbar from \"../components/NavBar.js\";\nimport NewComment from \"../components/commentpage/NewComment\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nconst CommentPage = () => {\n  const params = useParams();\n  const navigate = useNavigate();\n  const [comments, setComments] = useState([]);\n  const [post, setPost] = useState({});\n  const [newComment, setNewComment] = useState(\"\");\n  const [orderIndex, setOrder] = useState(0);\n  const [search, setSearch] = useState(\"\");\n  const order = [\"Newest to oldest\", \"Oldest to newest\"];\n  let now = new Date();\n\n  useEffect(() => {\n    let token = localStorage.getItem(\"token\");\n    const showPostURL = `http://localhost:3000/posts/${params.id}`;\n    if (token) {\n      fetch(showPostURL, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Network response was not ok.\");\n        })\n        .then((response) => {\n          setPost(response);\n          console.log(post);\n        });\n    }\n  }, []);\n\n  useEffect(() => getComments(), [search, orderIndex]);\n\n  const getComments = () => {\n    const url = `http://localhost:3000/comments/${params.id}?order=${orderIndex}&search=${search}`;\n    let token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(url, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          throw new Error(\"Network response was not ok.\");\n        })\n        .then((res) => {\n          setComments(res);\n        })\n        .catch(() => navigate(\"/login\"));\n    } else {\n      navigate(\"/login\");\n    }\n  };\n\n  const handleOrder = (id) => {\n    setOrder(id);\n  };\n\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n  };\n\n  const stripHtmlEntities = (str) => {\n    return String(str)\n      .replace(/\\n/g, \"<br> <br>\")\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\");\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    const url = `http://localhost:3000/comments`;\n\n    if (newComment.length == 0) return;\n\n    const info = {\n      comment: {\n        post_id: params.id,\n        body: stripHtmlEntities(newComment),\n      },\n    };\n\n    let token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(info),\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Network response was not ok.\");\n        })\n        .then((res) => {\n          setComments(res);\n          console.log(res);\n        })\n        .catch((error) => console.log(error.message));\n    }\n  };\n\n  const deleteComment = (id) => {\n    const url = `http://localhost:3000/comments/${id}`;\n    const auth_token = localStorage.getItem(\"token\");\n    console.log(url);\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${auth_token}`,\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      })\n      .then(() => getComments())\n      .catch((error) => console.log(error.message));\n  };\n\n  const getTimeElapsed = (time) => {\n    const d = new Date(time);\n    const elapsed = now - d;\n    if (elapsed < 3600000) {\n      return `${Math.floor(elapsed / 60000)} min`;\n    }\n    if (elapsed < 86400000) {\n      return `${Math.floor(elapsed / 3600000)} h`;\n    } else {\n      return `${Math.floor(elapsed / 86400000)} days`;\n    }\n  };\n\n  return (\n    <div>\n      <Navbar user={localStorage.getItem(\"username\")} />\n      <main className=\"container\">\n        <div className=\"\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h5 className=\"card-subtitle text-muted\">\n                {post.user.username} | Posted {getTimeElapsed(post.updated_at)}{\" \"}\n                ago\n              </h5>\n              <h5 className=\"card-title\">{post.name}</h5>\n              <h5 className=\"card-title\">{post.title}</h5>\n              <h5 className=\"card-title\">{post.body}</h5>\n            </div>\n          </div>\n        </div>\n        <div className=\"\">\n          <NewComment\n            onSubmit={onSubmit}\n            onChange={setNewComment}\n            comment={newComment}\n          />\n        </div>\n        <hr />\n        <div className=\"container-row\">\n          <h3>Comments</h3>\n          <form className=\"form-input\">\n            <input\n              className=\"post-input\"\n              type=\"text\"\n              placeholder=\"Search here\"\n              onChange={handleSearch}\n              value={search}\n            />\n          </form>\n          <Dropdown>\n            <Dropdown.Toggle id=\"dropdown-basic\">\n              {order[parseInt(orderIndex)]}\n            </Dropdown.Toggle>\n\n            <Dropdown.Menu>\n              <Dropdown.Item onClick={() => handleOrder(0)}>\n                Newest to oldest\n              </Dropdown.Item>\n              <Dropdown.Item onClick={() => handleOrder(1)}>\n                Oldest to newest\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n        <br />\n        <Comments comments={comments} delete={deleteComment} />\n      </main>\n    </div>\n  );\n};\n\nexport default CommentPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/Posts.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport NewPost from \"./NewPost\";\nimport Card from 'react-bootstrap/Card';\nvar deletePost = function deletePost(id) {\n  var url = \"/api/v1/posts/destroy/\".concat(id);\n  var token = document.querySelector('meta[name=\"csrf-token\"]').content;\n  fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"X-CSRF-Token\": token,\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(function (response) {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error(\"Network response was not ok.\");\n  }).then(function () {\n    return window.location.reload(false);\n  }).catch(function (error) {\n    return console.log(error.message);\n  });\n};\nvar Posts = function Posts(prop) {\n  var navigate = useNavigate();\n  var allPosts = prop.posts.map(function (post, index) {\n    return (\n      /*#__PURE__*/\n      // <div key={index} className=\"container-md\">\n      //   <div className=\"card mb-4\">\n      //     <div className=\"dropdown\">\n      //       <a className=\"btn btn-default btn-sm dropdown-toggle float-right\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n      //       </a>\n      //       <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n      //         <a className=\"dropdown-item\" onClick={()=>deletePost(post.id)}>Edit post</a>\n      //         <a className=\"dropdown-item\" onClick={()=>deletePost(post.id)}>Delete post</a>\n      //       </div>\n      //     </div>\n      //       <div className=\"card-body\">\n      //         <a href={`/post/${post.id}`} className=\"stretched-link\">\n      //           <h3 className=\"card-title\">{post.title}</h3>\n      //         </a>\n      //         <h5 className=\"card-subtitle mb-2 text-muted\">{post.name}</h5>\n      //         <h4 className=\"card-text\">{post.body}</h4>\n      //       </div>\n      //   </div>\n      // </div>\n      // <Card key={index} style={{ width: '100%' }}>\n      // <Card.Body>\n      //   <Card.Title>\n      //     <a href={`/post/${post.id}`}>{post.title}</a>\n      //   </Card.Title>\n      //   <Card.Subtitle className=\"mb-2 text-muted\">{post.user.username}</Card.Subtitle>\n      //   <Card.Text>\n      //   {post.body}\n      //   </Card.Text>\n      // </Card.Body>\n      // </Card>\n      React.createElement(\"div\", {\n        className: \"card\",\n        style: \"width: 18rem;\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/post/\".concat(post.id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 34\n        }\n      }, post.title)), /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"card-subtitle mb-2 text-muted\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, post.user.username), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }\n      }, post.body), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        className: \"card-link\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }, \"Card link\"), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        className: \"card-link\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }\n      }, \"Another link\")))\n    );\n  });\n  var noPost = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vw-100 vh-50 d-flex align-items-center justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"No posts yet. Why not \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/new_post\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 31\n    }\n  }, \"create one\")));\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-end mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, NewPost()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, prop.posts.length > 0 ? allPosts : noPost))));\n};\nexport default Posts;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","NewPost","Card","deletePost","id","url","token","document","querySelector","content","fetch","method","headers","then","response","ok","json","Error","window","location","reload","catch","error","console","log","message","Posts","prop","navigate","allPosts","posts","map","post","index","title","user","username","body","noPost","length"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/Posts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport NewPost from \"./NewPost\";\nimport Card from 'react-bootstrap/Card';\n\nconst deletePost = (id) => {\n  const url = `/api/v1/posts/destroy/${id}`;\n  const token = document.querySelector('meta[name=\"csrf-token\"]').content;\n\n  fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"X-CSRF-Token\": token,\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(\"Network response was not ok.\");\n    })\n    .then(()=>window.location.reload(false))\n    .catch((error) => console.log(error.message));\n};\n\nconst Posts = prop => {\n    const navigate = useNavigate();\n\n  const allPosts = prop.posts.map((post, index) => (\n    // <div key={index} className=\"container-md\">\n    //   <div className=\"card mb-4\">\n    //     <div className=\"dropdown\">\n    //       <a className=\"btn btn-default btn-sm dropdown-toggle float-right\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    //       </a>\n\n    //       <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n    //         <a className=\"dropdown-item\" onClick={()=>deletePost(post.id)}>Edit post</a>\n    //         <a className=\"dropdown-item\" onClick={()=>deletePost(post.id)}>Delete post</a>\n    //       </div>\n    //     </div>\n    //       <div className=\"card-body\">\n    //         <a href={`/post/${post.id}`} className=\"stretched-link\">\n    //           <h3 className=\"card-title\">{post.title}</h3>\n    //         </a>\n    //         <h5 className=\"card-subtitle mb-2 text-muted\">{post.name}</h5>\n    //         <h4 className=\"card-text\">{post.body}</h4>\n    //       </div>\n        \n    //   </div>\n    // </div>\n    \n    // <Card key={index} style={{ width: '100%' }}>\n    // <Card.Body>\n    //   <Card.Title>\n    //     <a href={`/post/${post.id}`}>{post.title}</a>\n    //   </Card.Title>\n    //   <Card.Subtitle className=\"mb-2 text-muted\">{post.user.username}</Card.Subtitle>\n    //   <Card.Text>\n    //   {post.body}\n    //   </Card.Text>\n    // </Card.Body>\n    // </Card>\n\n    <div className=\"card\" style=\"width: 18rem;\">\n    <div className=\"card-body\">\n      <h5 className=\"card-title\"><a href={`/post/${post.id}`}>{post.title}</a></h5>\n      <h6 className=\"card-subtitle mb-2 text-muted\">{post.user.username}</h6>\n      <p className=\"card-text\">{post.body}</p>\n      <a href=\"#\" className=\"card-link\">Card link</a>\n      <a href=\"#\" className=\"card-link\">Another link</a>\n    </div>\n    </div>\n  ));\n  const noPost = (\n    <div className=\"vw-100 vh-50 d-flex align-items-center justify-content-center\">\n      <h4>\n        No posts yet. Why not <Link to=\"/new_post\">create one</Link>\n      </h4>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"py-5\">\n        <main className=\"container\">\n          <div className=\"text-end mb-3\">\n            {NewPost()}\n          </div>\n          <div className=\"row\">\n            {prop.posts.length > 0 ? allPosts : noPost}\n          </div>\n        </main>\n      </div>\n    </>\n\n  );\n};\n\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
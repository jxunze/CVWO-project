{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/commentpage/Comments.js\";\n// comments\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nvar Comments = function Comments(prop) {\n  var handleDelete = function handleDelete(e) {\n    prop.delete(e.target.getAttribute(\"a-key\"));\n  };\n  var getTimeElapsed = function getTimeElapsed(time) {\n    var d = new Date(time);\n    var elapsed = now - d;\n    if (elapsed < 3600000) {\n      return \"\".concat(Math.floor(elapsed / 60000), \" min\");\n    }\n    if (elapsed < 86400000) {\n      return \"\".concat(Math.floor(elapsed / 3600000), \" h\");\n    } else {\n      return \"\".concat(Math.floor(elapsed / 86400000), \" days\");\n    }\n  };\n  var now = new Date();\n  var allComments = /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 21\n    }\n  }, \"No Comments\");\n  if (prop.comments.length > 0) {\n    allComments = prop.comments.map(function (comment, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"card-container\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-top-container\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-subtitle text-muted\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }\n      }, comment.user.username, \" | Posted\", \" \", getTimeElapsed(comment.updated_at), \" ago\"), /*#__PURE__*/React.createElement(Dropdown, {\n        className: \"card-dropdown\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n        className: \"card-dropdown\",\n        variant: \"secondary\",\n        size: \"sm\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        \"a-key\": comment.id,\n        onClick: handleDelete,\n        disabled: prop.user != comment.user.username,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      }, \"Delete Comment\")))), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"card-text\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, comment.body))));\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 10\n    }\n  }, allComments);\n};\nexport default Comments;","map":{"version":3,"names":["React","useNavigate","Dropdown","Comments","prop","handleDelete","e","delete","target","getAttribute","getTimeElapsed","time","d","Date","elapsed","now","Math","floor","allComments","comments","length","map","comment","index","user","username","updated_at","id","body"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/commentpage/Comments.js"],"sourcesContent":["// comments\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nconst Comments = (prop) => {\n  const handleDelete = (e) => {\n    prop.delete(e.target.getAttribute(\"a-key\"));\n  };\n\n  const getTimeElapsed = (time) => {\n    const d = new Date(time);\n    const elapsed = now - d;\n    if (elapsed < 3600000) {\n      return `${Math.floor(elapsed / 60000)} min`;\n    }\n    if (elapsed < 86400000) {\n      return `${Math.floor(elapsed / 3600000)} h`;\n    } else {\n      return `${Math.floor(elapsed / 86400000)} days`;\n    }\n  };\n\n  let now = new Date();\n  let allComments = <p>No Comments</p>;\n  if (prop.comments.length > 0) {\n    allComments = prop.comments.map((comment, index) => (\n      <div key={index} className=\"card-container\">\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"card-top-container\">\n              <h5 className=\"card-subtitle text-muted\">\n                {comment.user.username} | Posted{\" \"}\n                {getTimeElapsed(comment.updated_at)} ago\n              </h5>\n              <Dropdown className=\"card-dropdown\">\n                <Dropdown.Toggle\n                  className=\"card-dropdown\"\n                  variant=\"secondary\"\n                  size=\"sm\"\n                ></Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  <Dropdown.Item\n                    a-key={comment.id}\n                    onClick={handleDelete}\n                    disabled={prop.user != comment.user.username}\n                  >\n                    Delete Comment\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            </div>\n            <h3 className=\"card-text\">{comment.body}</h3>\n          </div>\n        </div>\n      </div>\n    ));\n  }\n  return <div>{allComments}</div>;\n};\n\nexport default Comments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
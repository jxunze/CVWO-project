{"ast":null,"code":"import _objectSpread from \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/Pages/SignupPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../components/NavBar.js\";\nimport SignUp from \"../components/loginpage/SignUp\";\nvar SignupPage = function SignupPage() {\n  var navigate = useNavigate();\n  var _useState = useState({\n      user: {},\n      error: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setInfo = _useState2[1];\n  useEffect(function () {\n    console.log(\"hit\");\n    var token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(\"https://cvwo-project.onrender.com/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        if (result.id) {\n          setInfo(_objectSpread({}, userInfo, {\n            user: result\n          }));\n        }\n      });\n    }\n  }, []);\n  var signUp = function signUp(user) {\n    fetch(\"https://cvwo-project.onrender.com/users\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user: {\n          username: user.username,\n          password: user.password,\n          first_name: user.firstName,\n          last_name: user.lastName\n        }\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (user) {\n      setInfo(_objectSpread({}, userInfo, {\n        user: user\n      }));\n      navigate(\"/home\");\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    user: localStorage.getItem(\"username\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SignUp, {\n    signUp: signUp,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n};\nexport default SignupPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Navbar","SignUp","SignupPage","navigate","user","error","userInfo","setInfo","console","log","token","localStorage","getItem","fetch","method","headers","Authorization","then","response","json","result","id","signUp","Accept","body","JSON","stringify","username","password","first_name","firstName","last_name","lastName"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/Pages/SignupPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../components/NavBar.js\";\nimport SignUp from \"../components/loginpage/SignUp\";\n\nconst SignupPage = () => {\n  const navigate = useNavigate();\n  const [userInfo, setInfo] = useState({\n    user: {},\n    error: \"\",\n  });\n\n  useEffect(() => {\n    console.log(\"hit\");\n    let token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(\"https://cvwo-project.onrender.com/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n        .then((response) => response.json())\n        .then((result) => {\n          if (result.id) {\n            setInfo({\n              ...userInfo,\n              user: result,\n            });\n          }\n        });\n    }\n  }, []);\n\n  const signUp = (user) => {\n    fetch(\"https://cvwo-project.onrender.com/users\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: user.username,\n          password: user.password,\n          first_name: user.firstName,\n          last_name: user.lastName,\n        },\n      }),\n    })\n      .then((response) => response.json())\n      .then((user) => {\n        setInfo({ ...userInfo, user: user });\n        navigate(\"/home\");\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <Navbar user={localStorage.getItem(\"username\")} />\n      <SignUp signUp={signUp} />\n    </div>\n  );\n};\n\nexport default SignupPage;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,MAAM,MAAM,gCAAgC;AAEnD,IAAMC,UAAU,GAAG,SAAbA,UAAU,GAAS;EACvB,IAAMC,QAAQ,GAAGJ,WAAW,EAAE;EAAC,gBACHF,QAAQ,CAAC;MACnCO,IAAI,EAAE,CAAC,CAAC;MACRC,KAAK,EAAE;IACT,CAAC,CAAC;IAAA;IAHKC,QAAQ;IAAEC,OAAO;EAKxBT,SAAS,CAAC,YAAM;IACdU,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAClB,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,IAAIF,KAAK,EAAE;MACTG,KAAK,CAAC,2CAA2C,EAAE;QACjDC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACPC,aAAa,mBAAYN,KAAK;QAChC;MACF,CAAC,CAAC,CACCO,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,EAAC,CACnCF,IAAI,CAAC,UAACG,MAAM,EAAK;QAChB,IAAIA,MAAM,CAACC,EAAE,EAAE;UACbd,OAAO,mBACFD,QAAQ;YACXF,IAAI,EAAEgB;UAAM,GACZ;QACJ;MACF,CAAC,CAAC;IACN;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,IAAME,MAAM,GAAG,SAATA,MAAM,CAAIlB,IAAI,EAAK;IACvBS,KAAK,CAAC,yCAAyC,EAAE;MAC/CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACPQ,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBtB,IAAI,EAAE;UACJuB,QAAQ,EAAEvB,IAAI,CAACuB,QAAQ;UACvBC,QAAQ,EAAExB,IAAI,CAACwB,QAAQ;UACvBC,UAAU,EAAEzB,IAAI,CAAC0B,SAAS;UAC1BC,SAAS,EAAE3B,IAAI,CAAC4B;QAClB;MACF,CAAC;IACH,CAAC,CAAC,CACCf,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CACnCF,IAAI,CAAC,UAACb,IAAI,EAAK;MACdG,OAAO,mBAAMD,QAAQ;QAAEF,IAAI,EAAEA;MAAI,GAAG;MACpCD,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,CAAC;EACN,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAClB,oBAAC,MAAM;IAAC,IAAI,EAAEQ,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAClD,oBAAC,MAAM;IAAC,MAAM,EAAEU,MAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACtB;AAEV,CAAC;AAED,eAAepB,UAAU"},"metadata":{},"sourceType":"module"}
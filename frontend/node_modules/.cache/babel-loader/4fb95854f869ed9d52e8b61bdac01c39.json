{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/postpage/Posts.js\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nvar Posts = function Posts(prop) {\n  var navigate = useNavigate();\n  var now = new Date();\n  var handleDelete = function handleDelete(e) {\n    prop.delete(e.target.getAttribute(\"a-key\"));\n  };\n  var getTimeElapsed = function getTimeElapsed(time) {\n    var d = new Date(time);\n    var elapsed = now - d;\n    if (elapsed < 3600000) {\n      return \"\".concat(Math.floor(elapsed / 60000), \" min\");\n    }\n    if (elapsed < 86400000) {\n      return \"\".concat(Math.floor(elapsed / 3600000), \" h\");\n    } else {\n      return \"\".concat(Math.floor(elapsed / 86400000), \" days\");\n    }\n  };\n  var allPosts = prop.posts.map(function (post, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"card-container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-top-container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-subtitle text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, post.user.username, \" | Posted \", getTimeElapsed(post.updated_at), \" \", \"ago\"), /*#__PURE__*/React.createElement(Dropdown, {\n      className: \"card-dropdown\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      className: \"card-dropdown\",\n      variant: \"secondary\",\n      size: \"sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      \"a-key\": post.id,\n      onClick: function onClick() {\n        return navigate(\"/post/update/\".concat(post.id));\n      },\n      disabled: post.user.username !== prop.user,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, \"Edit Post\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      \"a-key\": post.id,\n      onClick: handleDelete,\n      disabled: post.user.username !== prop.user,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \"Delete Post\")))), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/post/\".concat(post.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, post.title)))));\n  });\n  var noPost = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vw-100 vh-50 d-flex align-items-center justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"No posts.\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }\n  }, prop.posts.length > 0 ? allPosts : noPost);\n};\nexport default Posts;","map":{"version":3,"names":["React","useNavigate","Dropdown","Posts","prop","navigate","now","Date","handleDelete","e","delete","target","getAttribute","getTimeElapsed","time","d","elapsed","Math","floor","allPosts","posts","map","post","index","user","username","updated_at","id","title","noPost","length"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/postpage/Posts.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nconst Posts = (prop) => {\n  const navigate = useNavigate();\n  let now = new Date();\n\n  const handleDelete = (e) => {\n    prop.delete(e.target.getAttribute(\"a-key\"));\n  };\n\n  const getTimeElapsed = (time) => {\n    const d = new Date(time);\n    const elapsed = now - d;\n    if (elapsed < 3600000) {\n      return `${Math.floor(elapsed / 60000)} min`;\n    }\n    if (elapsed < 86400000) {\n      return `${Math.floor(elapsed / 3600000)} h`;\n    } else {\n      return `${Math.floor(elapsed / 86400000)} days`;\n    }\n  };\n\n  const allPosts = prop.posts.map((post, index) => (\n    <div key={index} className=\"card-container\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"card-top-container\">\n            <h5 className=\"card-subtitle text-muted\">\n              {post.user.username} | Posted {getTimeElapsed(post.updated_at)}{\" \"}\n              ago\n            </h5>\n            <Dropdown className=\"card-dropdown\">\n              <Dropdown.Toggle\n                className=\"card-dropdown\"\n                variant=\"secondary\"\n                size=\"sm\"\n              ></Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                <Dropdown.Item\n                  a-key={post.id}\n                  onClick={() => navigate(`/post/update/${post.id}`)}\n                  disabled={post.user.username !== prop.user}\n                >\n                  Edit Post\n                </Dropdown.Item>\n                <Dropdown.Item\n                  a-key={post.id}\n                  onClick={handleDelete}\n                  disabled={post.user.username !== prop.user}\n                >\n                  Delete Post\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </div>\n          <h3 className=\"card-title\">\n            <a href={`/post/${post.id}`}>{post.title}</a>\n          </h3>\n        </div>\n      </div>\n    </div>\n  ));\n  const noPost = (\n    <div className=\"vw-100 vh-50 d-flex align-items-center justify-content-center\">\n      <h4>No posts.</h4>\n    </div>\n  );\n\n  return <div>{prop.posts.length > 0 ? allPosts : noPost}</div>;\n};\n\nexport default Posts;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,0BAA0B;AAE/C,IAAMC,KAAK,GAAG,SAARA,KAAK,CAAIC,IAAI,EAAK;EACtB,IAAMC,QAAQ,GAAGJ,WAAW,EAAE;EAC9B,IAAIK,GAAG,GAAG,IAAIC,IAAI,EAAE;EAEpB,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,CAAC,EAAK;IAC1BL,IAAI,CAACM,MAAM,CAACD,CAAC,CAACE,MAAM,CAACC,YAAY,CAAC,OAAO,CAAC,CAAC;EAC7C,CAAC;EAED,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,IAAI,EAAK;IAC/B,IAAMC,CAAC,GAAG,IAAIR,IAAI,CAACO,IAAI,CAAC;IACxB,IAAME,OAAO,GAAGV,GAAG,GAAGS,CAAC;IACvB,IAAIC,OAAO,GAAG,OAAO,EAAE;MACrB,iBAAUC,IAAI,CAACC,KAAK,CAACF,OAAO,GAAG,KAAK,CAAC;IACvC;IACA,IAAIA,OAAO,GAAG,QAAQ,EAAE;MACtB,iBAAUC,IAAI,CAACC,KAAK,CAACF,OAAO,GAAG,OAAO,CAAC;IACzC,CAAC,MAAM;MACL,iBAAUC,IAAI,CAACC,KAAK,CAACF,OAAO,GAAG,QAAQ,CAAC;IAC1C;EACF,CAAC;EAED,IAAMG,QAAQ,GAAGf,IAAI,CAACgB,KAAK,CAACC,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;IAAA,oBAC1C;MAAK,GAAG,EAAEA,KAAM;MAAC,SAAS,EAAC,gBAAgB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACzC;MAAK,SAAS,EAAC,MAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACnB;MAAK,SAAS,EAAC,WAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxB;MAAK,SAAS,EAAC,oBAAoB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACjC;MAAI,SAAS,EAAC,0BAA0B;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACrCD,IAAI,CAACE,IAAI,CAACC,QAAQ,EAAC,YAAU,EAACZ,cAAc,CAACS,IAAI,CAACI,UAAU,CAAC,EAAE,GAAG,EAAC,KAEtE,CAAK,eACL,oBAAC,QAAQ;MAAC,SAAS,EAAC,eAAe;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACjC,oBAAC,QAAQ,CAAC,MAAM;MACd,SAAS,EAAC,eAAe;MACzB,OAAO,EAAC,WAAW;MACnB,IAAI,EAAC,IAAI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACQ,eAEnB,oBAAC,QAAQ,CAAC,IAAI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACZ,oBAAC,QAAQ,CAAC,IAAI;MACZ,SAAOJ,IAAI,CAACK,EAAG;MACf,OAAO,EAAE;QAAA,OAAMtB,QAAQ,wBAAiBiB,IAAI,CAACK,EAAE,EAAG;MAAA,CAAC;MACnD,QAAQ,EAAEL,IAAI,CAACE,IAAI,CAACC,QAAQ,KAAKrB,IAAI,CAACoB,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAC5C,WAED,CAAgB,eAChB,oBAAC,QAAQ,CAAC,IAAI;MACZ,SAAOF,IAAI,CAACK,EAAG;MACf,OAAO,EAAEnB,YAAa;MACtB,QAAQ,EAAEc,IAAI,CAACE,IAAI,CAACC,QAAQ,KAAKrB,IAAI,CAACoB,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAC5C,aAED,CAAgB,CACF,CACP,CACP,eACN;MAAI,SAAS,EAAC,YAAY;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxB;MAAG,IAAI,kBAAWF,IAAI,CAACK,EAAE,CAAG;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAEL,IAAI,CAACM,KAAK,CAAK,CAC1C,CACD,CACF,CACF;EAAA,CACP,CAAC;EACF,IAAMC,MAAM,gBACV;IAAK,SAAS,EAAC,+DAA+D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC5E;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,WAAS,CAAK,CAErB;EAED,oBAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAMzB,IAAI,CAACgB,KAAK,CAACU,MAAM,GAAG,CAAC,GAAGX,QAAQ,GAAGU,MAAM,CAAO;AAC/D,CAAC;AAED,eAAe1B,KAAK"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/postpage/Posts.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nvar deletePost = function deletePost(id) {\n  var url = \"/api/v1/posts/destroy/\".concat(id);\n  var token = document.querySelector('meta[name=\"csrf-token\"]').content;\n  fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"X-CSRF-Token\": token,\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(function (response) {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error(\"Network response was not ok.\");\n  }).then(function () {\n    return window.location.reload(false);\n  }).catch(function (error) {\n    return console.log(error.message);\n  });\n};\nvar Posts = function Posts(prop) {\n  var navigate = useNavigate();\n  var allPosts = prop.posts.map(function (post, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"card-container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-top-container\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-subtitle mb-2 text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, post.user.username), /*#__PURE__*/React.createElement(DropdownType, {\n      size: \"sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      className: \"card-dropdown\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, \"Edit Post\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, \"Delete Post\")))), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/post/\".concat(post.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, post.title)))));\n  });\n  var noPost = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vw-100 vh-50 d-flex align-items-center justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"No posts.\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  }, prop.posts.length > 0 ? allPosts : noPost);\n};\nexport default Posts;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Dropdown","deletePost","id","url","token","document","querySelector","content","fetch","method","headers","then","response","ok","json","Error","window","location","reload","catch","error","console","log","message","Posts","prop","navigate","allPosts","posts","map","post","index","user","username","title","noPost","length"],"sources":["/Users/xunze/Local Documents/Grind/Personal Projects/CVWO/proj2/final_forum/frontend/src/components/postpage/Posts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nconst deletePost = (id) => {\n  const url = `/api/v1/posts/destroy/${id}`;\n  const token = document.querySelector('meta[name=\"csrf-token\"]').content;\n\n  fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"X-CSRF-Token\": token,\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(\"Network response was not ok.\");\n    })\n    .then(() => window.location.reload(false))\n    .catch((error) => console.log(error.message));\n};\n\nconst Posts = (prop) => {\n  const navigate = useNavigate();\n\n  const allPosts = prop.posts.map((post, index) => (\n    <div key={index} className=\"card-container\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"card-top-container\">\n            <h5 className=\"card-subtitle mb-2 text-muted\">\n              {post.user.username}\n            </h5>\n            <DropdownType size=\"sm\">\n              <Dropdown.Toggle className=\"card-dropdown\"></Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                <Dropdown.Item>Edit Post</Dropdown.Item>\n                <Dropdown.Item>Delete Post</Dropdown.Item>\n              </Dropdown.Menu>\n            </DropdownType>\n          </div>\n          <h3 className=\"card-title\">\n            <a href={`/post/${post.id}`}>{post.title}</a>\n          </h3>\n        </div>\n      </div>\n    </div>\n  ));\n  const noPost = (\n    <div className=\"vw-100 vh-50 d-flex align-items-center justify-content-center\">\n      <h4>No posts.</h4>\n    </div>\n  );\n\n  return <div>{prop.posts.length > 0 ? allPosts : noPost}</div>;\n};\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}